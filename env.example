# File Conversion Utility - Environment Configuration
# Copy this file to .env and adjust values for your environment

# =============================================================================
# BASIC SERVER CONFIGURATION
# =============================================================================

# Server port (default: 3000)
PORT=3000

# Server host binding
# - '0.0.0.0' for intranet deployment (binds to all interfaces)
# - 'localhost' or '127.0.0.1' for development (loopback only)
HOST=0.0.0.0

# Environment mode
# - 'development' for local development
# - 'production' for intranet/production deployment
NODE_ENV=production

# Force intranet mode (overrides NODE_ENV detection)
# Set to 'true' for intranet deployment
INTRANET=true

# =============================================================================
# NETWORK AND SECURITY
# =============================================================================

# CORS Origin (for intranet deployment)
# - 'true' allows all origins (recommended for intranet)
# - 'false' disables CORS (restrictive)
# - Specific origin: 'http://192.168.1.100:3000'
CORS_ORIGIN=true

# Trust proxy for load balancers and reverse proxies
# Set to 'true' if behind a load balancer, reverse proxy, or in intranet
TRUST_PROXY=true

# =============================================================================
# FILE HANDLING
# =============================================================================

# Temporary directory for file processing
# - '/tmp' for serverless environments
# - './temp' for local development
# - '/var/tmp' for traditional servers
TEMP_DIR=/tmp

# File upload limits
UPLOAD_LIMIT=50mb
MAX_FILE_SIZE=52428800

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# CONCURRENCY CONTROL
# =============================================================================

# Maximum concurrent conversions
MAX_CONCURRENCY=2

# Maximum queue depth before returning 429
MAX_QUEUE=10

# =============================================================================
# CONVERSION TIMEOUTS
# =============================================================================

# Timeout settings for different conversion types (in milliseconds)
DOCUMENT_TIMEOUT=60000
IMAGE_TIMEOUT=30000

# =============================================================================
# QUALITY SETTINGS
# =============================================================================

# Image conversion quality
IMAGE_JPEG_QUALITY=90
IMAGE_PNG_COMPRESSION=6
IMAGE_TIFF_COMPRESSION=lzw



# =============================================================================
# PUPPETEER CONFIGURATION
# =============================================================================

# Puppeteer settings for PDF generation
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=false
PUPPETEER_CACHE_DIR=/tmp/.cache/puppeteer

# Custom Chrome executable path (optional)
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# =============================================================================
# LOGGING
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# INTRANET DEPLOYMENT EXAMPLES
# =============================================================================

# Example 1: Basic intranet server
# NODE_ENV=production
# HOST=0.0.0.0
# INTRANET=true
# CORS_ORIGIN=true

# Example 2: Behind reverse proxy
# NODE_ENV=production
# HOST=0.0.0.0
# INTRANET=true
# TRUST_PROXY=true
# CORS_ORIGIN=true

# Example 3: Load balancer setup
# NODE_ENV=production
# HOST=0.0.0.0
# INTRANET=true
# TRUST_PROXY=true
# CORS_ORIGIN=true
# MAX_CONCURRENCY=4
# MAX_QUEUE=20

# =============================================================================
# DOCKER DEPLOYMENT
# =============================================================================

# For Docker containers, typically use:
# HOST=0.0.0.0
# NODE_ENV=production
# INTRANET=true
# TEMP_DIR=/tmp

# =============================================================================
# TRADITIONAL SERVER DEPLOYMENT
# =============================================================================

# For traditional server deployment:
# HOST=0.0.0.0
# NODE_ENV=production
# INTRANET=true
# TEMP_DIR=/var/tmp
# TRUST_PROXY=true
